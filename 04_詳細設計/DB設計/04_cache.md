# Cache テーブル詳細設計

## ドキュメント目的
- Laravel標準キャッシュストアとして利用する`cache`テーブルの仕様を明記する。
- ストレージ方式を変更する場合はアプリ設定と併せて本書を更新する。

## 1. 基本情報
| 項目 | 内容 | 備考 |
|---|---|---|
| テーブル物理名 | cache |  |
| テーブル論理名 | キャッシュキー | Laravel cache driver用 |
| ドメイン/コンテキスト | Infra（キャッシュ） |  |
| 主キー | key（VARCHAR(255)） |  |

## 2. カラム定義
| No | カラム名 | 論理名 | 型 | PK | Not Null | デフォルト | 説明/業務ルール | 備考 |
|---|---|---|---|---|---|---|---|---|
| 1 | key | キャッシュキー | VARCHAR(255) | ○ | ○ |  | キャッシュ識別子。アプリ側でユニーク。 | 主キー |
| 2 | value | キャッシュ値 | MEDIUMTEXT |  | ○ |  | シリアライズ済みの値。 |  |
| 3 | expiration | 期限 | INT |  | ○ |  | UNIXタイムスタンプ（秒）。 |  |

## 3. インデックス・キー設計
| 種別 | 名称 | 対象カラム | ユニーク | 用途/目的 | 備考 |
|---|---|---|---|---|---|
| 主キー | PRIMARY | key | ○ | キー一意性 |  |

## 4. 制約・リレーション
| 種別 | 名称 | 内容 | 備考 |
|---|---|---|---|
| 主キー | PRIMARY | key単位で一意性を担保 |  |
| 運用ルール | TTL管理 | expirationはUNIX秒で管理。経過後はアプリ/ジョブで削除。 |  |

## 改定履歴
| 改定日 | 版数 | 変更概要 | 担当 |
|---|---|---|---|
| 2025-09-19 | v0.1 | 新規作成 |  |
| 2025-10-10 | v1 | フェーズ0.5のリリース版 | Codex AI |